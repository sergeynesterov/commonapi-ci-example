language: cpp
compiler:
   - clang
   - gcc

sudo: false
addons:
   apt:
      sources:
         - boost-latest

      packages:
         # DLT
         - zlib1g-dev
         - libdbus-glib-1-dev

         # vsomeip
         - libboost-system-dev
         - libboost-thread-dev
         - libboost-log-dev

         # dbus
         - libexpat1-dev

env:
   - BUILD_CONFIGURATION=Debug
   - BUILD_CONFIGURATION=Release

script:
   - mkdir build
   - cd build
   - cmake .. -DCMAKE_BUILD_TYPE=$BUILD_CONFIGURATION
   - cmake --build . -- -j$(nproc)
   - ctest --output-on-failure
